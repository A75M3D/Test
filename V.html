<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Skillzoy Academy - Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- CSP Ù…Ø¨Ø³Ø· ÙˆÙ…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ ÙŠÙˆØªÙŠÙˆØ¨ ÙÙ‚Ø· -->
<meta http-equiv="Content-Security-Policy" 
      content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com;
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
        font-src 'self' https://fonts.gstatic.com https://fonts.googleapis.com;
        img-src 'self' data: https://i.ytimg.com https://img.youtube.com;
        connect-src 'self' https://www.googleapis.com https://youtube.googleapis.com;
        frame-src https://www.youtube.com https://youtube.com https://*.youtube.com;
        object-src 'none';
        base-uri 'self';
        form-action 'self';
        upgrade-insecure-requests;">
<meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
<meta http-equiv="X-Content-Type-Options" content="nosniff">
<meta http-equiv="X-XSS-Protection" content="1; mode=block">
<meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 pb-32 text-gray-800">

<!-- Header -->
<header class="bg-gradient-to-l from-indigo-700 to-blue-700 text-white p-6 shadow">
  <h1 class="text-2xl font-bold text-center">Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ | Skillzoy academy</h1>
  <p class="text-center text-sm opacity-90 mt-1">ØªØ¹Ù„Ù… | Ø³Ø¬Ù‘Ù„ | Ø´Ø§Ù‡Ø¯ | Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø´Ù‡Ø§Ø¯ØªÙƒ</p>
</header>

<main class="max-w-7xl mx-auto p-4">

<!-- Home Section -->
<section id="homeSection" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"></section>

<!-- My Courses Section -->
<section id="myCoursesSection" class="hidden">
  <h2 class="text-xl font-bold mb-6">ğŸ“ Ø¯ÙˆØ±Ø§ØªÙŠ</h2>
  <div id="myCoursesList" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
</section>

<!-- Player Section -->
<section id="playerSection" class="hidden">
  <button onclick="backToMyCourses()"
    class="mb-4 text-indigo-600 font-semibold hover:underline transition">
    â† Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø¯ÙˆØ±Ø§ØªÙŠ
  </button>
  <h2 id="playerTitle" class="text-xl font-bold mb-4"></h2>
  <iframe id="playerFrame"
    class="w-full h-[420px] rounded-xl shadow"
    allowfullscreen></iframe>
</section>

<!-- WhatsApp Button -->
<a id="whatsappButton" href="https://wa.me/966500000000" target="_blank"
   class="fixed left-5 bottom-5 bg-green-600 text-white w-14 h-14 flex items-center justify-center
   rounded-full shadow-lg hover:scale-110 transition z-50 hidden">
  ğŸ“±
</a>

<div id="whatsappTooltip"
     class="fixed left-24 bottom-5 bg-gray-800 text-white px-4 py-2 rounded shadow opacity-0 transition z-40 pointer-events-none">
  ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø´Ù‡Ø§Ø¯ØªÙƒ Ø¨Ø¹Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¯ÙˆØ±Ø© âœ…
</div>

<!-- Bottom Nav -->
<nav class="fixed bottom-0 left-0 right-0 bg-white border-t shadow flex justify-around py-3">
  <button onclick="showHome()" class="font-semibold text-indigo-700">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
  <button onclick="showMyCourses()" class="text-gray-500">ğŸ“ Ø¯ÙˆØ±Ø§ØªÙŠ</button>
</nav>

<script>
/* ====== DATA ====== */
const courses = [
  {
    id: "react",
    title: "React.js",
    desc: "ØªØ·ÙˆÙŠØ± ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
    playlist: "https://www.youtube.com/embed/videoseries?list=PLYyqC4bNbCIdSZ-JayMLl4WO2Cr995vyS"
  },
  {
    id: "excel",
    title: "Excel Ø§Ù„Ù…ØªÙ‚Ø¯Ù…",
    desc: "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
    playlist: "https://www.youtube.com/embed/videoseries?list=PLVn5UigDlJB8ZU35J4RyyEwfjJ9RH7-MK"
  },
  {
    id: "Ai",
    title: "Ai Ø§Ù„Ù…ØªÙ‚Ø¯Ù…",
    desc: "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
    playlist: "https://www.youtube.com/embed/videoseries?list=PLSLMEu6gRp1Zw-4GFG0dFLFX5q48ZYe_T"
  }
];

let myCourses = JSON.parse(localStorage.getItem("myCourses")) || [];

/* ====== HOME ====== */
function renderHome() {
  homeSection.innerHTML = "";
  courses.forEach(c => {
    const enrolled = myCourses.includes(c.id);
    homeSection.innerHTML += `
      <div class="bg-white rounded-2xl shadow hover:shadow-xl transition overflow-hidden">
        <iframe class="w-full h-52" src="${c.playlist}" allowfullscreen></iframe>
        <div class="p-5">
          <h3 class="font-bold text-lg mb-1">${c.title}</h3>
          <p class="text-sm text-gray-600 mb-4">${c.desc}</p>
          <button onclick="handleCourse('${c.id}')"
            class="w-full py-3 rounded-xl font-semibold text-white transition
            ${enrolled ? 'bg-green-600 hover:bg-green-700' : 'bg-blue-600 hover:bg-blue-700'}
            active:scale-95">
            ${enrolled ? 'ğŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¹Ù„Ù‘Ù…' : 'ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø§Ù„Ø¯ÙˆØ±Ø©'}
          </button>
        </div>
      </div>`;
  });
}

/* ====== HANDLE COURSE ====== */
function handleCourse(id) {
  if (!myCourses.includes(id)) {
    myCourses.push(id);
    localStorage.setItem("myCourses", JSON.stringify(myCourses));
  }
  renderHome();
  renderMyCourses();
  showMyCourses();
  showWhatsApp();
}

/* ====== MY COURSES ====== */
function renderMyCourses() {
  myCoursesList.innerHTML = "";
  if (myCourses.length === 0) {
    myCoursesList.innerHTML = "<p class='text-gray-500'>Ù„Ù… ØªØ³Ø¬Ù„ ÙÙŠ Ø£ÙŠ Ø¯ÙˆØ±Ø© Ø¨Ø¹Ø¯</p>";
    hideWhatsApp();
    return;
  }
  myCourses.forEach(id => {
    const c = courses.find(course => course.id === id);
    if (!c) return;
    myCoursesList.innerHTML += `
      <div class="bg-white rounded-xl shadow p-5">
        <h3 class="font-semibold mb-4">${c.title}</h3>
        <button onclick="openCourse('${id}')"
          class="w-full mb-3 bg-green-600 text-white py-2 rounded-xl
          hover:bg-green-700 transition active:scale-95">
          ğŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¹Ù„Ù‘Ù…
        </button>
        <button onclick="removeCourse('${id}')"
          class="w-full border border-red-400 text-red-600 py-2 rounded-xl
          hover:bg-red-500 hover:text-white transition active:scale-95">
          âŒ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„
        </button>
      </div>`;
  });
  if (myCourses.length > 0) showWhatsApp();
  else hideWhatsApp();
}

/* ====== PLAYER ====== */
function openCourse(id) {
  const c = courses.find(course => course.id === id);
  if (!c) return;
  playerTitle.textContent = c.title;
  playerFrame.src = c.playlist;

  homeSection.classList.add("hidden");
  myCoursesSection.classList.add("hidden");
  playerSection.classList.remove("hidden");
}

/* ====== BACK ====== */
function backToMyCourses() {
  playerSection.classList.add("hidden");
  showMyCourses();
}

/* ====== REMOVE COURSE ====== */
function removeCourse(id) {
  myCourses = myCourses.filter(course => course !== id);
  localStorage.setItem("myCourses", JSON.stringify(myCourses));
  renderHome();
  renderMyCourses();
}

/* ====== NAV ====== */
function showHome() {
  homeSection.classList.remove("hidden");
  myCoursesSection.classList.add("hidden");
  playerSection.classList.add("hidden");
  renderHome();
}

function showMyCourses() {
  homeSection.classList.add("hidden");
  myCoursesSection.classList.remove("hidden");
  playerSection.classList.add("hidden");
  renderMyCourses();
}

/* ====== WHATSAPP ====== */
function showWhatsApp() {
  const btn = document.getElementById("whatsappButton");
  const tooltip = document.getElementById("whatsappTooltip");
  btn.classList.remove("hidden");
  btn.addEventListener("mouseenter", () => tooltip.classList.add("opacity-100"));
  btn.addEventListener("mouseleave", () => tooltip.classList.remove("opacity-100"));
}

function hideWhatsApp() {
  const btn = document.getElementById("whatsappButton");
  const tooltip = document.getElementById("whatsappTooltip");
  btn.classList.add("hidden");
  tooltip.classList.remove("opacity-100");
}

/* ====== INIT ====== */
renderHome();
renderMyCourses();
if (myCourses.length > 0) showWhatsApp();
</script>

</body>
</html>
