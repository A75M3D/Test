<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Skillzoy Academy - Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- CSP Ù…Ø¨Ø³Ø· ÙˆÙ…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ ÙŠÙˆØªÙŠÙˆØ¨ ÙÙ‚Ø· -->
<meta http-equiv="Content-Security-Policy" 
      content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://www.youtube.com https://apis.google.com;
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
        font-src 'self' https://fonts.gstatic.com https://fonts.googleapis.com;
        img-src 'self' data: https://i.ytimg.com https://img.youtube.com;
        connect-src 'self' https://www.googleapis.com https://youtube.googleapis.com;
        frame-src https://www.youtube.com https://youtube.com https://*.youtube.com;
        object-src 'none';
        base-uri 'self';
        form-action 'self';
        upgrade-insecure-requests;">
<meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
<meta http-equiv="X-Content-Type-Options" content="nosniff">
<meta http-equiv="X-XSS-Protection" content="1; mode=block">
<meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body {
    font-family: 'Cairo', sans-serif;
  }
  
  .card-hover {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .card-hover:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  }
  
  .gradient-text {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .nav-button {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
  }
  
  .nav-button::after {
    content: '';
    position: absolute;
    bottom: 0;
    right: 0;
    width: 0;
    height: 3px;
    background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
    transition: width 0.3s ease;
  }
  
  .nav-button.active::after {
    width: 100%;
  }
  
  .glass-effect {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  
  .category-tag {
    transition: all 0.3s ease;
  }
  
  .category-tag:hover {
    transform: scale(1.05);
  }
  
  @keyframes bounce-slow {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
  
  .animate-bounce-slow {
    animation: bounce-slow 3s infinite;
  }
  
  @keyframes slideInDown {
    from {
      transform: translateY(-100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  
  .animate-slideInDown {
    animation: slideInDown 0.5s ease-out;
  }
</style>
</head>

<body class="bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen pb-32 text-gray-800">

<!-- Notification Banner -->
<div id="notificationBanner" class="bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 px-4 shadow-lg animate-slideInDown">
  <div class="max-w-7xl mx-auto flex items-center justify-between">
    <div class="flex items-center gap-3">
      <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
      </svg>
      <span class="font-medium">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø´Ù‡Ø§Ø¯ØªÙƒ Ø¨Ø¹Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¯ÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­!</span>
    </div>
    <button onclick="closeNotification()" class="text-white hover:text-gray-200 transition">
      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
      </svg>
    </button>
  </div>
</div>

<!-- Header -->
<header class="bg-gradient-to-l from-indigo-700 via-blue-600 to-purple-700 text-white shadow-xl">
  <div class="p-6">
    <div class="max-w-7xl mx-auto">
      <h1 class="text-3xl font-extrabold mb-2 text-center">Skillzoy Academy</h1>
      <p class="text-lg opacity-95 text-center">Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</p>
    </div>
  </div>
</header>

<!-- Categories Section -->
<section class="bg-white shadow-sm border-b">
  <div class="max-w-7xl mx-auto px-4 py-3">
    <div class="flex flex-wrap gap-2 justify-center" id="categoriesContainer">
      <!-- Categories will be dynamically added -->
    </div>
  </div>
</section>

<main class="max-w-7xl mx-auto p-4 md:p-6">

<!-- Home Section -->
<section id="homeSection" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
  <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡Ø§ Ø¨Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© -->
</section>

<!-- My Courses Section -->
<section id="myCoursesSection" class="hidden">
  <div class="flex items-center justify-between mb-8">
    <div>
      <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-3">
        <span class="p-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl text-white">
          ğŸ“
        </span>
        Ø¯ÙˆØ±Ø§ØªÙŠ Ø§Ù„Ù…Ø³Ø¬Ù„Ø©
      </h2>
      <p class="text-gray-600 mt-2">ØªØ§Ø¨Ø¹ ØªÙ‚Ø¯Ù…Ùƒ ÙÙŠ Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø©</p>
    </div>
    <div class="flex items-center space-x-2 space-x-reverse">
      <div class="px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-medium">
        <span id="courseCount">0</span> Ø¯ÙˆØ±Ø§Øª Ù…Ø³Ø¬Ù„Ø©
      </div>
    </div>
  </div>
  <div id="myCoursesList" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8"></div>
</section>

<!-- Player Section -->
<section id="playerSection" class="hidden glass-effect rounded-3xl p-6 shadow-2xl">
  <div class="flex items-center justify-between mb-6">
    <button onclick="backToMyCourses()"
      class="flex items-center gap-2 px-6 py-3 bg-gradient-to-l from-gray-100 to-white text-gray-700 font-semibold rounded-xl hover:shadow-md transition-all duration-300 border border-gray-200 hover:border-blue-300">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
      </svg>
      Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø¯ÙˆØ±Ø§ØªÙŠ
    </button>
    <div class="flex items-center gap-3">
      <div class="px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full text-sm font-medium">
        Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©
      </div>
      <button onclick="markCurrentVideoAsWatched()"
        class="px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-full text-sm font-medium hover:shadow-lg transition">
        âœ… ÙˆØ¶Ø¹ Ø¥Ø´Ø¹Ø§Ø± Ù…Ø´Ø§Ù‡Ø¯Ø©
      </button>
    </div>
  </div>
  
  <h2 id="playerTitle" class="text-2xl font-bold mb-6 text-center text-gray-800"></h2>
  
  <div class="relative rounded-2xl overflow-hidden shadow-xl mb-6">
    <div class="absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 opacity-10"></div>
    <div id="youtubePlayer" class="relative z-10 w-full h-[480px] md:h-[520px]"></div>
  </div>
  
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
    <div class="bg-white p-4 rounded-xl shadow border border-gray-100">
      <div class="flex items-center justify-between mb-2">
        <span class="text-gray-600">Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø­Ø§Ù„ÙŠ</span>
        <span id="currentVideoIndex" class="font-bold text-blue-600">1</span>
      </div>
      <div class="text-sm text-gray-500" id="currentVideoTitle">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
    </div>
    
    <div class="bg-white p-4 rounded-xl shadow border border-gray-100">
      <div class="flex items-center justify-between mb-2">
        <span class="text-gray-600">Ù…Ø´Ø§Ù‡Ø¯</span>
        <span id="watchedVideos" class="font-bold text-green-600">0</span>
      </div>
      <div class="text-sm text-gray-500">Ù…Ù† <span id="totalVideos">0</span> ÙÙŠØ¯ÙŠÙˆ</div>
    </div>
    
    <div class="bg-white p-4 rounded-xl shadow border border-gray-100">
      <div class="flex items-center justify-between mb-2">
        <span class="text-gray-600">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</span>
        <span id="progressPercentage" class="font-bold text-purple-600">0%</span>
      </div>
      <div class="h-2 bg-gray-200 rounded-full mt-2">
        <div id="progressBar" class="h-full bg-gradient-to-r from-green-400 to-emerald-600 rounded-full" style="width: 0%"></div>
      </div>
    </div>
  </div>
  
  <div id="playlistContainer" class="mt-8 bg-white rounded-xl shadow p-4">
    <h3 class="font-bold text-lg mb-4 text-gray-800">ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</h3>
    <div id="playlistVideos" class="grid grid-cols-1 md:grid-cols-2 gap-3 max-h-80 overflow-y-auto p-2">
      <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡Ø§ Ø¨Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© -->
    </div>
  </div>
</section>

<!-- WhatsApp Button -->
<a id="whatsappButton" href="https://wa.me/0908280115" target="_blank"
   class="fixed left-6 bottom-24 bg-gradient-to-br from-green-500 to-emerald-600 text-white w-16 h-16 flex items-center justify-center
   rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 z-50 hidden hover:scale-110
   animate-bounce-slow border-2 border-white">
  <div class="relative">
    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
      <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.76.982.998-3.675-.236-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.9 6.994c-.004 5.45-4.438 9.88-9.888 9.88m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.333.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.333 11.893-11.893 0-3.18-1.24-6.162-3.495-8.411"/>
    </svg>
    <div class="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white"></div>
  </div>
</a>

<!-- Bottom Nav -->
<nav class="fixed bottom-0 left-0 right-0 glass-effect border-t border-gray-200 shadow-2xl flex justify-around py-4 z-40">
  <button onclick="showHome()" 
          class="nav-button flex flex-col items-center gap-1 px-6 py-2 text-gray-700 font-semibold transition-all duration-300">
    <div class="p-2 rounded-full bg-gradient-to-br from-blue-100 to-blue-50">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
      </svg>
    </div>
    <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
  </button>
  
  <button onclick="showMyCourses()" 
          class="nav-button flex flex-col items-center gap-1 px-6 py-2 text-gray-700 font-semibold transition-all duration-300">
    <div class="p-2 rounded-full bg-gradient-to-br from-green-100 to-green-50">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5z"/>
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l6.16-3.422a12.083 12.083 0 016.16.547 17.919 17.919 0 01-4.949 6.09A17.919 17.919 0 0112 21.75a17.92 17.92 0 01-6.371-1.435 17.919 17.919 0 01-4.949-6.09 12.083 12.083 0 016.16-.547L12 14z"/>
      </svg>
    </div>
    <span>Ø¯ÙˆØ±Ø§ØªÙŠ</span>
  </button>
</nav>

<!-- YouTube API Script -->
<script src="https://www.youtube.com/iframe_api"></script>

<script>
/* ====== Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ ====== */

// Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ©
const courses = [
  {
    id: "react",
    title: "React.js",
    desc: "ØªØ·ÙˆÙŠØ± ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
    category: "ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨",
    level: "Ù…ØªÙ‚Ø¯Ù…",
    playlistId: "PLYyqC4bNbCIdSZ-JayMLl4WO2Cr995vyS"
  },
  {
    id: "excel",
    title: "Excel Ø§Ù„Ù…ØªÙ‚Ø¯Ù…",
    desc: "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
    category: "Ø£Ø¯ÙˆØ§Øª Ù…ÙƒØªØ¨ÙŠØ©",
    level: "Ù…ØªÙˆØ³Ø·",
    playlistId: "PLVn5UigDlJB8ZU35J4RyyEwfjJ9RH7-MK"
  },
  {
    id: "ai",
    title: "AI Ø§Ù„Ù…ØªÙ‚Ø¯Ù…",
    desc: "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
    category: "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
    level: "Ù…ØªÙ‚Ø¯Ù…",
    playlistId: "PLSLMEu6gRp1Zw-4GFG0dFLFX5q48ZYe_T"
  },
  {
    id: "react2",
    title: "React.js Ù…ØªÙ‚Ø¯Ù…",
    desc: "ØªØ·ÙˆÙŠØ± ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©",
    category: "ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨",
    level: "Ù…ØªÙ‚Ø¯Ù…",
    playlistId: "PLYyqC4bNbCIdSZ-JayMLl4WO2Cr995vyS"
  },
  {
    id: "excel2",
    title: "Excel Ø§Ø­ØªØ±Ø§ÙÙŠ",
    desc: "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…",
    category: "Ø£Ø¯ÙˆØ§Øª Ù…ÙƒØªØ¨ÙŠØ©",
    level: "Ù…ØªÙ‚Ø¯Ù…",
    playlistId: "PLp22-4PivYmL2wmHCHXvbbZWcQaTXIBTV"
  },
  {
    id: "ai2",
    title: "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
    desc: "Ù…Ù‚Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
    category: "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
    level: "Ù…Ø¨ØªØ¯Ø¦",
    playlistId: "PLSLMEu6gRp1Zw-4GFG0dFLFX5q48ZYe_T"
  },
  {
    id: "react3",
    title: "React.js Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†",
    desc: "ØªØ¹Ù„Ù… React Ù…Ù† Ø§Ù„ØµÙØ±",
    category: "ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨",
    level: "Ù…Ø¨ØªØ¯Ø¦",
    playlistId: "PLAeuUfwnAxm4bAMXuq9LCXfJfIO9-PtkX"
  },
  {
    id: "excel3",
    title: "Excel Ø£Ø³Ø§Ø³ÙŠØ§Øª",
    desc: "ØªØ¹Ù„Ù… Excel Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©",
    category: "Ø£Ø¯ÙˆØ§Øª Ù…ÙƒØªØ¨ÙŠØ©",
    level: "Ù…Ø¨ØªØ¯Ø¦",
    playlistId: "PLm8I8moAHiH2kkq0S9XGvIbPODrHzXRp6"
  },
  {
    id: "ai3",
    title: "AI Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†",
    desc: "Ù…Ù‚Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
    category: "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
    level: "Ù…Ø¨ØªØ¯Ø¦",
    playlistId: "PLSLMEu6gRp1Zw-4GFG0dFLFX5q48ZYe_T"
  },
  {
    id: "react4",
    title: "React Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ©",
    desc: "Ø¨Ù†Ø§Ø¡ Ù…Ø´Ø§Ø±ÙŠØ¹ Ø­Ù‚ÙŠÙ‚ÙŠØ©",
    category: "ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨",
    level: "Ù…ØªÙˆØ³Ø·",
    playlistId: "PLWPirh4EWFpFB7_wjLoHPnHl68WSxA6gJ"
  },
  {
    id: "excel4",
    title: "Excel Ù„Ù„Ø¹Ù…Ù„",
    desc: "ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ø¹Ù…Ù„",
    category: "Ø£Ø¯ÙˆØ§Øª Ù…ÙƒØªØ¨ÙŠØ©",
    level: "Ù…ØªÙˆØ³Ø·",
    playlistId: "PLDoPjvoNmBAx3kiplQR_oeDqLDBUDYwVv"
  },
  {
    id: "security",
    title: "Ø£Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª",
    desc: "Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ",
    category: "Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ",
    level: "Ù…ØªÙˆØ³Ø·",
    playlistId: "PLzMXToX8KzqhKrURIhVTJMb0v-HeDM3gs"
  }
];

// Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„ÙØ±ÙŠØ¯Ø©
const categories = [...new Set(courses.map(course => course.category))];

// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
let myCourses = JSON.parse(localStorage.getItem("myCourses")) || [];
let courseProgress = JSON.parse(localStorage.getItem("courseProgress")) || {};

// Ù…ØªØºÙŠØ±Ø§Øª YouTube
let player;
let currentCourseId = null;
let currentVideoIndex = 0;
let playlistVideos = [];

/* ====== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ====== */
function closeNotification() {
  const banner = document.getElementById('notificationBanner');
  banner.style.opacity = '0';
  banner.style.transform = 'translateY(-100%)';
  banner.style.transition = 'all 0.5s ease-out';
  
  setTimeout(() => {
    banner.style.display = 'none';
  }, 500);
}

// Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†Ù
setTimeout(closeNotification, 5000);

/* ====== Ø¹Ø±Ø¶ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª ====== */
function renderCategories() {
  const container = document.getElementById('categoriesContainer');
  container.innerHTML = '';
  
  categories.forEach(category => {
    const button = document.createElement('button');
    button.className = 'category-tag px-4 py-2 rounded-full bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700 font-medium text-sm hover:from-blue-200 hover:to-purple-200 transition-all duration-300';
    button.textContent = category;
    button.onclick = () => filterCoursesByCategory(category);
    container.appendChild(button);
  });
  
  // Ø¥Ø¶Ø§ÙØ© Ø²Ø± "Ø§Ù„ÙƒÙ„"
  const allButton = document.createElement('button');
  allButton.className = 'category-tag px-4 py-2 rounded-full bg-gradient-to-r from-indigo-100 to-blue-100 text-indigo-700 font-medium text-sm hover:from-indigo-200 hover:to-blue-200 transition-all duration-300';
  allButton.textContent = 'Ø§Ù„ÙƒÙ„';
  allButton.onclick = () => filterCoursesByCategory('Ø§Ù„ÙƒÙ„');
  container.prepend(allButton);
}

function filterCoursesByCategory(category) {
  const homeSection = document.getElementById('homeSection');
  homeSection.innerHTML = '';
  
  const filteredCourses = category === 'Ø§Ù„ÙƒÙ„' 
    ? courses 
    : courses.filter(course => course.category === category);
  
  filteredCourses.forEach(course => {
    renderCourseCard(course);
  });
}

/* ====== YouTube API Functions ====== */
function onYouTubeIframeAPIReady() {
  console.log('YouTube API Ø¬Ø§Ù‡Ø²Ø©');
}

function createYouTubePlayer(playlistId, videoIndex = 0) {
  if (player) {
    player.destroy();
  }
  
  player = new YT.Player('youtubePlayer', {
    height: '520',
    width: '100%',
    playerVars: {
      listType: 'playlist',
      list: playlistId,
      index: videoIndex,
      autoplay: 1,
      rel: 0,
      modestbranding: 1,
      controls: 1,
      enablejsapi: 1
    },
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange,
      'onError': onPlayerError
    }
  });
}

function onPlayerReady(event) {
  console.log('Ø§Ù„Ù…Ø´ØºÙ„ Ø¬Ø§Ù‡Ø²');
  updatePlayerInfo();
  
  // Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙˆÙ‚Øª Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³Ø§Ø¨Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ
  const progress = courseProgress[currentCourseId];
  if (progress && progress.lastPlaybackTime > 0 && currentVideoIndex === progress.lastWatchedIndex) {
    setTimeout(() => {
      event.target.seekTo(progress.lastPlaybackTime);
    }, 1000);
  }
}

function onPlayerStateChange(event) {
  if (event.data === YT.PlayerState.ENDED) {
    // Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙ†ØªÙ‡ÙŠ Ø§Ù„ÙÙŠØ¯ÙŠÙˆØŒ ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø© ÙƒÙ…Ø´Ø§Ù‡Ø¯
    markCurrentVideoAsWatched();
  } else if (event.data === YT.PlayerState.PLAYING) {
    // Ø­ÙØ¸ ÙˆÙ‚Øª Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø§Ù„ÙŠ
    savePlaybackTime();
  }
}

function onPlayerError(event) {
  console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø´ØºÙ„:', event.data);
  showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ', 'error');
}

function savePlaybackTime() {
  if (player && currentCourseId) {
    try {
      const time = player.getCurrentTime();
      if (courseProgress[currentCourseId]) {
        courseProgress[currentCourseId].lastPlaybackTime = time;
        localStorage.setItem("courseProgress", JSON.stringify(courseProgress));
      }
    } catch (e) {
      console.log('Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ ÙˆÙ‚Øª Ø§Ù„ØªØ´ØºÙŠÙ„...');
    }
  }
}

function updatePlayerInfo() {
  if (!player || !currentCourseId) return;
  
  const progress = courseProgress[currentCourseId];
  if (!progress) return;
  
  try {
    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙÙ‡Ø±Ø³ Ø§Ù„Ø­Ø§Ù„ÙŠ
    currentVideoIndex = player.getPlaylistIndex();
    document.getElementById('currentVideoIndex').textContent = currentVideoIndex + 1;
    
    // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©
    const watchedCount = progress.watchedVideos ? progress.watchedVideos.filter(v => v).length : 0;
    document.getElementById('watchedVideos').textContent = watchedCount;
    document.getElementById('totalVideos').textContent = progress.totalVideos || '...';
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©
    const total = progress.totalVideos || 1;
    const percentage = Math.round((watchedCount / total) * 100);
    document.getElementById('progressPercentage').textContent = percentage + '%';
    document.getElementById('progressBar').style.width = percentage + '%';
    
    // Ø­ÙØ¸ Ø§Ù„ÙÙ‡Ø±Ø³ Ø§Ù„Ø£Ø®ÙŠØ±
    if (progress.lastWatchedIndex !== currentVideoIndex) {
      progress.lastWatchedIndex = currentVideoIndex;
      localStorage.setItem("courseProgress", JSON.stringify(courseProgress));
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø­Ø§Ù„ÙŠ
    updateCurrentVideoTitle();
    
  } catch (e) {
    console.log('Ø¬Ø§Ø±Ù ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø´ØºÙ„...');
  }
}

function updateCurrentVideoTitle() {
  if (!currentCourseId) return;
  
  const progress = courseProgress[currentCourseId];
  if (!progress || !progress.videoTitles) return;
  
  const title = progress.videoTitles[currentVideoIndex] || `Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ${currentVideoIndex + 1}`;
  document.getElementById('currentVideoTitle').textContent = title;
}

/* ====== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ ====== */
function markCurrentVideoAsWatched() {
  if (!currentCourseId) return;
  
  const progress = courseProgress[currentCourseId];
  if (!progress) return;
  
  // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù…ØµÙÙˆÙØ© watchedVideosØŒ Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§
  if (!progress.watchedVideos) {
    progress.watchedVideos = new Array(progress.totalVideos || 50).fill(false);
  }
  
  if (!progress.watchedVideos[currentVideoIndex]) {
    progress.watchedVideos[currentVideoIndex] = true;
    progress.lastWatchedIndex = currentVideoIndex;
    localStorage.setItem("courseProgress", JSON.stringify(courseProgress));
    
    updatePlayerInfo();
    renderHome();
    renderMyCourses();
    
    showNotification(`ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ${currentVideoIndex + 1}`, 'success');
  }
}

/* ====== Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙˆØ±Ø§Øª ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ====== */
function renderHome() {
  const homeSection = document.getElementById('homeSection');
  homeSection.innerHTML = '';
  
  courses.forEach(course => {
    renderCourseCard(course);
  });
  
  updateCourseCount();
}

function renderCourseCard(course) {
  const homeSection = document.getElementById('homeSection');
  const enrolled = myCourses.includes(course.id);
  const progress = courseProgress[course.id];
  
  let percentage = 0;
  let watchedCount = 0;
  let totalVideos = 0;
  
  if (progress) {
    watchedCount = progress.watchedVideos ? progress.watchedVideos.filter(v => v).length : 0;
    totalVideos = progress.totalVideos || 0;
    percentage = totalVideos > 0 ? Math.round((watchedCount / totalVideos) * 100) : 0;
  }
  
  const card = document.createElement('div');
  card.className = 'card-hover bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100';
  card.innerHTML = `
    <div class="relative">
      <div class="aspect-video bg-gradient-to-r from-blue-400 to-purple-500 relative overflow-hidden">
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="text-white text-center p-6">
            <div class="text-4xl mb-2">${getCategoryIcon(course.category)}</div>
            <div class="font-bold">${course.category}</div>
          </div>
        </div>
        <div class="absolute top-3 left-3">
          <span class="px-3 py-1 text-xs font-semibold rounded-full ${getLevelClass(course.level)}">
            ${course.level}
          </span>
        </div>
      </div>
    </div>
    
    <div class="p-6">
      <div class="flex justify-between items-start mb-3">
        <h3 class="font-bold text-xl text-gray-800">${course.title}</h3>
        <span class="text-sm text-gray-500">${getCategoryBadge(course.category)}</span>
      </div>
      
      <p class="text-gray-600 mb-6 leading-relaxed">${course.desc}</p>
      
      ${enrolled ? `
        <div class="mb-6">
          <div class="flex justify-between text-sm text-gray-600 mb-2">
            <span>Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ</span>
            <span>${percentage}%</span>
          </div>
          <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
            <div class="h-full bg-gradient-to-r from-green-400 to-emerald-600 rounded-full" 
                 style="width: ${percentage}%"></div>
          </div>
          <div class="text-xs text-gray-500 mt-1">
            ${watchedCount} Ù…Ù† ${totalVideos || '...'} ÙÙŠØ¯ÙŠÙˆ
          </div>
        </div>
      ` : ''}
      
      <button onclick="handleCourse('${course.id}')"
        class="w-full py-4 rounded-xl font-bold text-white transition-all duration-300
        ${enrolled ? 
          'bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-lg hover:shadow-xl' : 
          'bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 shadow-lg hover:shadow-xl'
        }
        active:scale-[0.98] transform flex items-center justify-center gap-3">
        ${enrolled ? 
          `<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          <span>${percentage > 0 ? 'Ø§Ø³ØªØ¦Ù†Ø§Ù Ø§Ù„ØªØ¹Ù„Ù…' : 'Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¹Ù„Ù…'}</span>` : 
          `<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd"/>
          </svg>
          <span>ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø§Ù„Ø¯ÙˆØ±Ø©</span>`
        }
      </button>
    </div>
  `;
  
  homeSection.appendChild(card);
}

/* ====== Ø¯ÙˆØ±Ø§ØªÙŠ ====== */
function renderMyCourses() {
  const myCoursesList = document.getElementById('myCoursesList');
  myCoursesList.innerHTML = '';
  
  if (myCourses.length === 0) {
    myCoursesList.innerHTML = `
      <div class="col-span-3 py-20 text-center">
        <div class="w-24 h-24 mx-auto mb-6 text-gray-300">
          <svg fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"/>
            <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-500 mb-2">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯ÙˆØ±Ø§Øª Ù…Ø³Ø¬Ù„Ø©</h3>
        <p class="text-gray-400 mb-6">Ø³Ø¬Ù„ ÙÙŠ Ø¯ÙˆØ±Ø© Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„ØªØ¨Ø¯Ø£ Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ù„Ù…</p>
        <button onclick="showHome()"
          class="px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg transition">
          ØªØµÙØ­ Ø§Ù„Ø¯ÙˆØ±Ø§Øª
        </button>
      </div>`;
    hideWhatsApp();
    return;
  }
  
  myCourses.forEach(courseId => {
    const course = courses.find(c => c.id === courseId);
    if (!course) return;
    
    const progress = courseProgress[courseId];
    let percentage = 0;
    let watchedCount = 0;
    let totalVideos = 0;
    
    if (progress) {
      watchedCount = progress.watchedVideos ? progress.watchedVideos.filter(v => v).length : 0;
      totalVideos = progress.totalVideos || 0;
      percentage = totalVideos > 0 ? Math.round((watchedCount / totalVideos) * 100) : 0;
    }
    
    const card = document.createElement('div');
    card.className = 'bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all duration-300';
    card.innerHTML = `
      <div class="flex items-start justify-between mb-4">
        <div class="flex-1">
          <div class="flex items-center gap-3 mb-2">
            <span class="p-2 rounded-lg ${getCategoryColor(course.category)} text-white">
              ${getCategoryIcon(course.category)}
            </span>
            <h3 class="font-bold text-lg text-gray-800">${course.title}</h3>
          </div>
          <p class="text-sm text-gray-600 mb-4">${course.desc.substring(0, 80)}...</p>
        </div>
      </div>
      
      <div class="space-y-4">
        <div>
          <div class="flex justify-between text-sm text-gray-600 mb-2">
            <span>Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ</span>
            <span>${percentage}%</span>
          </div>
          <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
            <div class="h-full bg-gradient-to-r from-green-400 to-emerald-600 rounded-full" 
                 style="width: ${percentage}%"></div>
          </div>
          <div class="text-xs text-gray-500 mt-1 text-left">
            ${watchedCount} Ù…Ù† ${totalVideos || '...'} ÙÙŠØ¯ÙŠÙˆ
          </div>
        </div>
        
        <div class="flex gap-3">
          <button onclick="openCourse('${courseId}')"
            class="flex-1 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl
            hover:from-blue-600 hover:to-purple-700 transition-all duration-300 active:scale-[0.98]
            flex items-center justify-center gap-2 shadow-lg hover:shadow-xl">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"/>
            </svg>
            ${percentage > 0 ? 'Ø§Ø³ØªØ¦Ù†Ø§Ù Ø§Ù„ØªØ¹Ù„Ù…' : 'Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¹Ù„Ù…'}
          </button>
          
          <button onclick="removeCourse('${courseId}')"
            class="px-5 py-3 border border-red-200 text-red-600 font-semibold rounded-xl
            hover:bg-red-50 transition-all duration-300 active:scale-[0.98]
            flex items-center justify-center">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"/>
            </svg>
          </button>
        </div>
      </div>
    `;
    
    myCoursesList.appendChild(card);
  });
  
  showWhatsApp();
  updateCourseCount();
}

/* ====== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Øª ====== */
function handleCourse(courseId) {
  const course = courses.find(c => c.id === courseId);
  if (!course) return;
  
  if (!myCourses.includes(courseId)) {
    myCourses.push(courseId);
    localStorage.setItem("myCourses", JSON.stringify(myCourses));
    
    // ØªÙ‡ÙŠØ¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ‚Ø¯Ù… Ù„Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
    courseProgress[courseId] = {
      playlistId: course.playlistId,
      totalVideos: 0, // Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹
      watchedVideos: [],
      lastWatchedIndex: 0,
      lastPlaybackTime: 0,
      videoTitles: []
    };
    localStorage.setItem("courseProgress", JSON.stringify(courseProgress));
    
    showNotification(`ØªÙ… ØªØ³Ø¬ÙŠÙ„Ùƒ ÙÙŠ Ø¯ÙˆØ±Ø© ${course.title} Ø¨Ù†Ø¬Ø§Ø­!`, 'success');
  }
  
  renderHome();
  renderMyCourses();
  showMyCourses();
  showWhatsApp();
}

function openCourse(courseId) {
  const course = courses.find(c => c.id === courseId);
  if (!course) return;
  
  currentCourseId = courseId;
  
  document.getElementById('playerTitle').textContent = course.title;
  
  document.getElementById('homeSection').classList.add("hidden");
  document.getElementById('myCoursesSection').classList.add("hidden");
  document.getElementById('playerSection').classList.remove("hidden");
  
  const progress = courseProgress[courseId];
  const startIndex = progress ? progress.lastWatchedIndex || 0 : 0;
  
  setTimeout(() => {
    createYouTubePlayer(course.playlistId, startIndex);
  }, 100);
}

function removeCourse(courseId) {
  if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙˆØ±Ø©ØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ‚Ø¯Ù….')) {
    myCourses = myCourses.filter(id => id !== courseId);
    localStorage.setItem("myCourses", JSON.stringify(myCourses));
    
    delete courseProgress[courseId];
    localStorage.setItem("courseProgress", JSON.stringify(courseProgress));
    
    const course = courses.find(c => c.id === courseId);
    showNotification(`ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø¯ÙˆØ±Ø© ${course.title}`, 'info');
    
    renderHome();
    renderMyCourses();
  }
}

/* ====== ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ====== */
function getCategoryIcon(category) {
  const icons = {
    'ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨': 'ğŸ’»',
    'Ø£Ø¯ÙˆØ§Øª Ù…ÙƒØªØ¨ÙŠØ©': 'ğŸ“Š',
    'Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ': 'ğŸ¤–',
    'Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ': 'ğŸ›¡ï¸',
    'Ø§Ù„ØªØµÙ…ÙŠÙ…': 'ğŸ¨',
    'Ø§Ù„ØªØ³ÙˆÙŠÙ‚': 'ğŸ“ˆ'
  };
  return icons[category] || 'ğŸ“š';
}

function getCategoryBadge(category) {
  const badges = {
    'ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨': '<span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded">ÙˆÙŠØ¨</span>',
    'Ø£Ø¯ÙˆØ§Øª Ù…ÙƒØªØ¨ÙŠØ©': '<span class="px-2 py-1 bg-green-100 text-green-700 text-xs rounded">Ø£Ø¯ÙˆØ§Øª</span>',
    'Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ': '<span class="px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded">Ø°ÙƒØ§Ø¡</span>',
    'Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ': '<span class="px-2 py-1 bg-red-100 text-red-700 text-xs rounded">Ø£Ù…Ù†</span>'
  };
  return badges[category] || '<span class="px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded">Ø£Ø®Ø±Ù‰</span>';
}

function getLevelClass(level) {
  const classes = {
    'Ù…Ø¨ØªØ¯Ø¦': 'bg-blue-100 text-blue-700',
    'Ù…ØªÙˆØ³Ø·': 'bg-yellow-100 text-yellow-700',
    'Ù…ØªÙ‚Ø¯Ù…': 'bg-red-100 text-red-700'
  };
  return classes[level] || 'bg-gray-100 text-gray-700';
}

function getCategoryColor(category) {
  const colors = {
    'ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨': 'bg-blue-500',
    'Ø£Ø¯ÙˆØ§Øª Ù…ÙƒØªØ¨ÙŠØ©': 'bg-green-500',
    'Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ': 'bg-purple-500',
    'Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ': 'bg-red-500'
  };
  return colors[category] || 'bg-gray-500';
}

/* ====== Ø§Ù„ØªÙ†Ù‚Ù„ ====== */
function backToMyCourses() {
  if (player) {
    player.destroy();
    player = null;
  }
  document.getElementById('playerSection').classList.add("hidden");
  showMyCourses();
}

function showHome() {
  document.getElementById('homeSection').classList.remove("hidden");
  document.getElementById('myCoursesSection').classList.add("hidden");
  document.getElementById('playerSection').classList.add("hidden");
  
  document.querySelectorAll('.nav-button').forEach(btn => btn.classList.remove('active', 'text-blue-600'));
  document.querySelectorAll('.nav-button')[0].classList.add('active', 'text-blue-600');
  
  renderHome();
}

function showMyCourses() {
  document.getElementById('homeSection').classList.add("hidden");
  document.getElementById('myCoursesSection').classList.remove("hidden");
  document.getElementById('playerSection').classList.add("hidden");
  
  document.querySelectorAll('.nav-button').forEach(btn => btn.classList.remove('active', 'text-blue-600'));
  document.querySelectorAll('.nav-button')[1].classList.add('active', 'text-blue-600');
  
  renderMyCourses();
}

function updateCourseCount() {
  document.getElementById('courseCount').textContent = myCourses.length;
}

/* ====== WhatsApp Button ====== */
function showWhatsApp() {
  const btn = document.getElementById("whatsappButton");
  if (btn) {
    btn.classList.remove("hidden");
  }
}

function hideWhatsApp() {
  const btn = document.getElementById("whatsappButton");
  if (btn) {
    btn.classList.add("hidden");
  }
}

/* ====== Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ====== */
function showNotification(message, type = 'info') {
  const notification = document.createElement('div');
  notification.className = `fixed top-6 left-6 px-6 py-4 rounded-xl shadow-2xl z-50 transform transition-all duration-300 ${
    type === 'success' ? 'bg-gradient-to-r from-green-500 to-emerald-600' :
    type === 'error' ? 'bg-gradient-to-r from-red-500 to-pink-600' :
    'bg-gradient-to-r from-blue-500 to-purple-600'
  } text-white`;
  notification.innerHTML = `
    <div class="flex items-center gap-3">
      <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
      </svg>
      <span class="font-medium">${message}</span>
    </div>
  `;
  
  document.body.appendChild(notification);
  
  setTimeout(() => {
    notification.classList.add('opacity-0', 'translate-x-full');
    setTimeout(() => notification.remove(), 300);
  }, 3000);
}

/* ====== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© ====== */
document.addEventListener('DOMContentLoaded', () => {
  renderCategories();
  renderHome();
  renderMyCourses();
  
  if (myCourses.length > 0) {
    showWhatsApp();
    document.querySelectorAll('.nav-button')[1].classList.add('active', 'text-blue-600');
  } else {
    document.querySelectorAll('.nav-button')[0].classList.add('active', 'text-blue-600');
  }
  
  // Ø­ÙØ¸ ÙˆÙ‚Øª Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ
  setInterval(savePlaybackTime, 5000);
});

// Ø­ÙØ¸ ÙˆÙ‚Øª Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØµÙØ­Ø©
window.addEventListener('beforeunload', savePlaybackTime);
</script>

<script>
// =====Syber=====
    (() => {
      document.addEventListener("keydown", (e) => {
        if (
          (e.ctrlKey && e.shiftKey && ["I", "C", "J", "L"].includes(e.key.toUpperCase())) ||
          (e.key === "F12") ||
          (e.ctrlKey && e.key.toUpperCase() === "U")
        ) {
          e.preventDefault();
        }
      });

      document.addEventListener("copy", e => e.preventDefault());
      document.addEventListener("cut", e => e.preventDefault());
      document.addEventListener("contextmenu", e => e.preventDefault());
      document.addEventListener("selectstart", e => e.preventDefault());

      let detectSize = () => {
        if (window.outerWidth - window.innerWidth > 200 || 
            window.outerHeight - window.innerHeight > 200) {
          console.clear();
        }
      };
      window.addEventListener("resize", detectSize);

      let start = performance.now();
      console.log("%c ", "font-size:200px;");
      let end = performance.now();
      if (end - start > 50) console.clear();

      const observer = new MutationObserver(() => {
        console.clear();
      });
      observer.observe(document.documentElement, { 
        attributes: true, 
        childList: false, 
        subtree: false 
      });

      setInterval(() => {
        const t = Date.now();
        debugger;
        if (Date.now() - t > 100) console.clear();
      }, 500);
    })();
</script>
</body>
</html>
